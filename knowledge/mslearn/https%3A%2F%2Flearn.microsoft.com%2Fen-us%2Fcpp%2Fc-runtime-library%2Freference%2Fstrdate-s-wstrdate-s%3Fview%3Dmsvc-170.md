---
title: "_strdate_s, _wstrdate_s"
source: "https://learn.microsoft.com/en-us/cpp/c-runtime-library/reference/strdate-s-wstrdate-s?view=msvc-170"
source_tag: "mslearn"
license: "CC BY 4.0"
license_url: "https://creativecommons.org/licenses/by/4.0/"
attribution: "Â© Microsoft Learn (CC BY 4.0)"
---
Copy the current system date to a buffer. These functions are versions of [`_strdate`, `_wstrdate`](https://learn.microsoft.com/en-us/cpp/c-runtime-library/reference/strdate-wstrdate?view=msvc-170) with security enhancements as described in [Security features in the CRT](https://learn.microsoft.com/en-us/cpp/c-runtime-library/security-features-in-the-crt?view=msvc-170).

## Syntax

```
errno_t _strdate_s(
   char *buffer,
   size_t size
);
errno_t _wstrdate_s(
   wchar_t *buffer,
   size_t size
);
template <size_t size>
errno_t _strdate_s(
   char (&buffer)[size]
); // C++ only
template <size_t size>
errno_t _wstrdate_s(
   wchar_t (&buffer)[size]
); // C++ only
```

### Parameters

_`buffer`_  
A pointer to a buffer to put the formatted date string.

_`size`_  
Size of the buffer in character units.

## Return value

Zero if successful. The return value is an error code if there's a failure. Error codes are defined in ERRNO.H; see table below for the exact errors generated by this function. For more information on error codes, see [`errno`](https://learn.microsoft.com/en-us/cpp/c-runtime-library/errno-constants?view=msvc-170).

## Error conditions

_`buffer`_

_`size`_

Return

Contents of _`buffer`_

`NULL`

(any)

`EINVAL`

Not modified

Not `NULL` (pointing to valid buffer)

0

`EINVAL`

Not modified

Not `NULL` (pointing to valid buffer)

0 < _`size`_ < 9

`EINVAL`

Empty string

Not `NULL` (pointing to valid buffer)

_`size`_ >= 9

0

Current date formatted as specified in the remarks

## Security issues

If you pass in an invalid, non-NULL value for _`buffer`_, it results in an access violation if the _`size`_ parameter is greater than nine.

Passing a value for _`size`_ greater than the actual size of _`buffer`_ results in a buffer overrun.

These functions provide more secure versions of `_strdate` and `_wstrdate`. The **`_strdate_s`** function copies the current system date to the buffer pointed to by _`buffer`_. It's formatted `mm/dd/yy`, where `mm` is the two-digit month, `dd` is the two-digit day, and `yy` is the last two digits of the year. For example, the string `12/05/99` represents December 5, 1999. The buffer must be at least nine characters long.

**`_wstrdate_s`** is a wide-character version of **`_strdate_s`**; the argument and return value of **`_wstrdate_s`** are wide-character strings. These functions behave identically otherwise.

When _`buffer`_ is a `NULL` pointer, or _`size`_ is fewer than nine characters, the invalid parameter handler is invoked. It's described in [Parameter validation](https://learn.microsoft.com/en-us/cpp/c-runtime-library/parameter-validation?view=msvc-170). If execution is allowed to continue, these functions return -1. They set `errno` to `EINVAL` if the buffer is `NULL` or if _`size`_ is less than or equal to 0. Or, they set `errno` to `ERANGE` if _`size`_ is less than 9.

In C++, use of these functions is simplified by template overloads. The overloads can infer buffer length automatically, which eliminates the need to specify a _`size`_ argument. And, they can automatically replace non-secure functions with their newer, more secure counterparts. For more information, see [Secure template overloads](https://learn.microsoft.com/en-us/cpp/c-runtime-library/secure-template-overloads?view=msvc-170).

The debug library versions of these functions first fill the buffer with 0xFE. To disable this behavior, use [`_CrtSetDebugFillThreshold`](https://learn.microsoft.com/en-us/cpp/c-runtime-library/reference/crtsetdebugfillthreshold?view=msvc-170).

By default, this function's global state is scoped to the application. To change this behavior, see [Global state in the CRT](https://learn.microsoft.com/en-us/cpp/c-runtime-library/global-state?view=msvc-170).

### Generic-text routine mapping:

TCHAR.H routine

`_UNICODE` and `_MBCS` not defined

`_MBCS` defined

`_UNICODE` defined

`_tstrdate_s`

**`_strdate_s`**

**`_strdate_s`**

**`_wstrdate_s`**

## Requirements

Routine

Required header

**`_strdate`**

<time.h>

**`_wstrdate`**

<time.h> or <wchar.h>

**`_strdate_s`**

<time.h>

## Example

See the example for [`time`](https://learn.microsoft.com/en-us/cpp/c-runtime-library/reference/time-time32-time64?view=msvc-170).

## See also

[Time management](https://learn.microsoft.com/en-us/cpp/c-runtime-library/time-management?view=msvc-170)  
[`asctime_s`, `_wasctime_s`](https://learn.microsoft.com/en-us/cpp/c-runtime-library/reference/asctime-s-wasctime-s?view=msvc-170)  
[`ctime_s`, `_ctime32_s`, `_ctime64_s`, `_wctime_s`, `_wctime32_s`, `_wctime64_s`](https://learn.microsoft.com/en-us/cpp/c-runtime-library/reference/ctime-s-ctime32-s-ctime64-s-wctime-s-wctime32-s-wctime64-s?view=msvc-170)  
[`gmtime_s`, `_gmtime32_s`, `_gmtime64_s`](https://learn.microsoft.com/en-us/cpp/c-runtime-library/reference/gmtime-s-gmtime32-s-gmtime64-s?view=msvc-170)  
[`localtime_s`, `_localtime32_s`, `_localtime64_s`](https://learn.microsoft.com/en-us/cpp/c-runtime-library/reference/localtime-s-localtime32-s-localtime64-s?view=msvc-170)  
[`mktime`, `_mktime32`, `_mktime64`](https://learn.microsoft.com/en-us/cpp/c-runtime-library/reference/mktime-mktime32-mktime64?view=msvc-170)  
[`time`, `_time32`, `_time64`](https://learn.microsoft.com/en-us/cpp/c-runtime-library/reference/time-time32-time64?view=msvc-170)  
[`_tzset`](https://learn.microsoft.com/en-us/cpp/c-runtime-library/reference/tzset?view=msvc-170)